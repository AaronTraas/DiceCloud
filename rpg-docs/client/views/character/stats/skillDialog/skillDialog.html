<!-- needs name, char, and skillName -->
<template name="skillDialog">
	{{#baseDialog title=name class=color hideEdit=true}}
		{{> skillDialogView}}
	{{/baseDialog}}
</template>

<template name="skillDialogView">
	<div layout vertical center>
		<div class="display2">
			{{char.skillMod skillName}}
		</div>
		<div class="subhead">
			<core-icon icon="{{profIcon}}" class="black54"></core-icon>
			{{#if profSource}}
				{{proficiencyValue}} - {{#with profSource}}{{sourceName}}{{/with}}
			{{else}}
				Not Proficient
			{{/if}}
		</div>
	</div>

	<hr class="vertMargin">

	<table class="summaryTable">
		<tr>
			<td>{{abilityName}}</td>
			<td>{{char.abilityMod ability}}</td>
		</tr>
		{{#if char.proficiency skillName}}
			<tr>
				<td>{{proficiencyValue}}</td>
				<td>{{signedString profBonus}}</td>
			</tr>
		{{/if}}
		{{#each addEffects}}
			<tr>
				<td>{{sourceName}}</td>
				<td>{{signedString statValue}}</td>
			</tr>
		{{/each}}
		{{#each mulEffects}}
			<tr>
				<td>{{sourceName}}</td>
				<td>&times;{{statValue}}</td>
			</tr>
		{{/each}}
		{{#each minEffects}}
			<tr>
				<td>{{sourceName}}</td>
				<td>Min: {{statValue}}</td>
			</tr>
		{{/each}}
		{{#each maxEffects}}
			<tr>
				<td>{{sourceName}}</td>
				<td>Max: {{statValue}}</td>
			</tr>
		{{/each}}
		<tr class="body2">
			<td>Total</td>
			<td>{{char.skillMod skillName}}</td>
		</tr>
	</table>

	{{#if or advEffects.count dadvEffects.count conditionalEffects.count}}
		<hr class="vertMargin">
	{{/if}}

	<div class="spaceAfter" horizontal center layout>
		{{#if advEffects.count}}
			<div class="body2" style="width: 100px;">
				Advantage
			</div>
			<div flex>
				{{#each advEffects}}
					<div>{{sourceName}}</div>
				{{/each}}
			</div>
		{{/if}}
	</div>
	<div class="spaceAfter" horizontal center layout>
		{{#if dadvEffects.count}}
			<div class="body2" style="width: 100px;">
				Disadvantage
			</div>
			<div flex>
				{{#each dadvEffects}}
					<div>{{sourceName}}</div>
				{{/each}}
			</div>
		{{/if}}
	</div>
	<!--Conditional Benefits-->
	{{#each conditionalEffects}}
		<div class="spaceAfter">
			<div class="body2">{{sourceName}}</div>
			<div>*{{statValue}}</div>
		</div>
	{{/each}}
</template>
