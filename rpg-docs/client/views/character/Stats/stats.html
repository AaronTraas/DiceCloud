<template name="stats">
	<core-animated-pages selected={{selectedSection}} transitions="hero-transition cross-fade">
		<section id="stats">
				{{> abilityCards}}
		</section>
		<section id="detailContainer">
			<div cross-fade id="darkOverlay"></div>
			{{> attributeDialog character=this}}
			{{> skillDialog character=this}}	
		</section>
	</core-animated-pages>
</template>

<template name="spellSlots">
	{{attributeValue "level1SpellSlots"}}
	{{attributeValue "level2SpellSlots"}}
	{{attributeValue "level3SpellSlots"}}
	{{attributeValue "level4SpellSlots"}}
	{{attributeValue "level5SpellSlots"}}
	{{attributeValue "level6SpellSlots"}}
	{{attributeValue "level7SpellSlots"}}
	{{attributeValue "level8SpellSlots"}}
	{{attributeValue "level9SpellSlots"}}
</template>

<template name="statCard">
	<paper-shadow {{isHero id}} class="card {{type}}" hero-id={{id}}>
		<div id="{{id}}Heading"  class="card-top headline {{class}}">
			{{> UI.contentBlock}}
		</div>
		<div class="subhead">
			{{title}}
		</div>
	</paper-shadow>
</template>

<template name="attributeDialog">
	<!--needs character, attributeName, attributeTitle-->
	{{#if attributeName}}
	<paper-shadow id="attributeDialog"
				  class="detailCard"
				  hero-id={{session "selectedAttribute"}} 
				  hero
				  heading={{session "selectedAttributeTitle"}} 
				  z="2">
		
		{{character.attributeValue attributeName}}<br>
		{{#each effects.add}}
			{{> attributeEffect}}
		{{/each}}
		{{#each effects.mul}}
			{{> attributeEffect}}
		{{/each}}
		{{#each effects.min}}
			{{> attributeEffect}}
		{{/each}}
		{{#each effects.max}}
			{{> attributeEffect}}
		{{/each}}
		{{signedString attribute.adjustment}}
	</paper-shadow>
	{{/if}}
</template>

<template name="attributeEffect">
	{{#if editing}}
		<div class="editEffect">
			<paper-dropdown-menu label="Operation">
				<paper-dropdown layered class="dropdown">
					<core-menu id="operationSelector" selected={{operationNumber}} class="menu">
						<paper-item>add</paper-item>
						<paper-item>multiply</paper-item>
						<paper-item>min</paper-item>
						<paper-item>max</paper-item>
					</core-menu>
				</paper-dropdown>
			</paper-dropdown-menu>
			<paper-input id="effectValueInput" label="Value" value={{value}} floatinglabel></paper-input>
			<paper-input id="effectNameInput" label="Name" value={{name}} floatinglabel></paper-input>
			<paper-icon-button id="doneButton" icon="done" title="save" role="button" aria-label="save"></paper-icon-button>
			<paper-icon-button id="cancelButton" icon="clear" title="cancel" role="button" aria-label="cancel"></paper-icon-button>
			<paper-icon-button id="deleteButton" icon="delete" title="delete" role="button" aria-label="delete"></paper-icon-button>
		</div>
	{{else}}
		<div class="effect">
			<div class="effectValue">{{operation}} {{signedEffectValue}}</div><div class="effectName"> {{name}}</div>
			{{#if editable}}
				<paper-icon-button id="editButton" icon="create" title="edit" role="button" aria-label="edit"></paper-icon-button>
			{{/if}}
		</div>
	{{/if}}
</template>

<template name="skillDialog">
	<!--needs character and skill string-->
	<paper-dialog layered="false" id="skillDialog" backdrop transition="core-transition-center">

	</paper-dialog>
</template>
